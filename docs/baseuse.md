## 获取仓库

> 有两种取得 Git 项目仓库的方法。 第一种是在现有项目或目录下导入所有文件到 Git 中; 第二种是从一个服务器
克隆一个现有的 Git 仓库。

### 在现有目录中初始化仓库

- `git init`

该命令将创建一个名为 .git 的子目录，这个子目录含有你初始化的 Git 仓库中所有的必须文件，这些文件是 Git 仓库的骨干。 但是，在这个时候，我们仅仅是做了一个初始化的操作，你的项目里的文件还没有被跟踪。

如果你是在一个已经存在文件的文件夹(而不是空文件夹)中初始化 Git 仓库来进行版本控制的话，你应该开始 跟踪这些文件并提交。你可通过git add命令来实现对指定文件的跟踪，然后执行git commit提交

- `git add REDEME.md`
- `git add .`
- `git commit -m 'first commit'`

### 从中央仓库克隆

获得一份已经存在了的 Git 仓库的拷贝。

- `git clone 仓库地址` 默认使用中央仓库项目名称
- `git clone 仓库地址 项目名称` 自定义本地仓库的名字

会在当前目录下创建一个名为 “libgit2” 的目录，并在这个目录下初始化一个 .git 文件夹，从远程仓库拉 取下所有数据放入 .git 文件夹，然后从中读取最新版本的文件的拷贝。

## 文件变化状态周期

文件变化状态周期图示

![](http://ww1.sinaimg.cn/large/006t9e3Igy1fuqykotap8j31oe0qmdl4.jpg)

工作目录下的每一个文件都不外乎这两种状态:

- 已跟踪的文件是指那些被纳入了 版本控制的文件，在上一次快照中有它们的记录，在工作一段时间后，它们的状态可能处于未修改，已修改或已 放入暂存区。 
- 工作目录中除已跟踪文件以外的所有其它文件都属于未跟踪文件，它们既不存在于上次快照的记录中，也没有放入暂存区。 初次克隆某个仓库的时候，工作目录中的所有文件都属于已跟踪文件，并处于未修改状态。

## 检查当前文件状态

- `git status`

## 跟踪新文件

- `git add .`

## 暂存已修改文件

- `git add .`

这是个多功能命令:可以用它开始跟踪新文件，或者把已跟踪的文件放到暂存区，还能用于合并时把有冲突的文件标记为已解决状态等。

## 查看已暂存和未暂存的修改

> 比较工作目录中当前文件和暂存区域快照之间的差异， 也就是修改之后还没有暂存起来的变化内容。

- `git diff`

> 要查看已暂存的将要添加到下次提交里的内容

- `git diff --cached` 或 `git diff --staged` 

## 状态简览

- `git status -s` 或 `git status --short`

- `??` 新添加的未跟踪文件。
- `A` 新添加到暂存区中的文件。
- `M` 右边的 M 表示该文件被修改了但是还没放入暂存区。
- `M` 边的 M 表示该文件被修改了并放入了暂存区。

## 忽略文件

> 一般我们总会有些文件无需纳入 Git 的管理，也不希望它们总出现在未跟踪文件列表。 通常都是些自动生成的文 件，比如日志文件，或者编译过程中创建的临时文件等。

- Laravel 中 Vendor 文件夹。
- Laravel .env 文件。
- Vue 中 node_modules 文件夹。
- ......

文件 `.gitignore` 的格式规范如下:

- 所有空行或者以 # 开头的行都会被 Git 忽略。
- 可以使用标准的 glob 模式匹配。
 - glob 模式是指 shell 所使用的简化了的正则表达式。
 - 星号(*)匹配零个或多个任意字符。
 - [abc] 匹配任何一个列在方括号中的字符(这个例子要么匹配一个 a，要么匹配一个 b，要么匹配一个 c)。
 - 使用两个星号(*) 表示匹配任意中间目录，比如`a/**/z` 可以匹 配 a/z, a/b/z 或 `a/b/c/z`等。
 - 如果在方括号中使用短划线分隔两个字符，表示所有在这两个字符范围内的都可以匹配 (比如 [0-9] 表示匹配所有 0 到 9 的数字)
- 匹配模式可以以(/)开头防止递归。
- 匹配模式可以以(/)结尾指定目录。
- 要忽略指定模式以外的文件或目录，可以在模式前加上惊叹号(!)取反。



示例：

```
/node_modules
/public/hot
/public/storage
/storage/*.key
/vendor
/.idea
/.vscode
/.vagrant
Homestead.json
Homestead.yaml
npm-debug.log
yarn-error.log
.env
```

## 提交更新

- `git commit` 会启动文本编辑器以便输入本次提交的说明。
- `git commit -m '提交信息'` 将提交信息与命令放在同一行。
- `git commit -a -m '提交信息'` Git 就会自动把所有已经跟踪过的文件暂存起来一并提交，从而跳过 `git add` 步骤

提交时记录的是放在暂存区域的快照。 任何还未暂存的仍然保持已修改状态，可以在下次提交时纳入 版本管理。 每一次运行提交操作，都是对你项目作一次快照，以后可以回到这个状态，或者进行比较。

## 移除文件

## 移动文件

## 查看提交历史

> 在提交了若干更新，又或者克隆了某个项目之后，你也许想回顾下提交历史。

- `git log`
- `git log -p` 显示每次提交的内容差异。
- `git log -2` 仅显示最近两次提交。
- `git log --stat` 简略的统计信息。
- ......

## 撤消操作

## 取消暂存的文件

## 撤消对文件的修改

## 远程仓库的使用

### 查看远程仓库

- 查看你已经配置的远程仓库服务器,使用 `git remote`。如果你已经克隆了自己的仓库，那么至少应该能看到 `origin` 。这是 Git 给你克隆的仓库服务器的默认名字。
- `git remote -v`。会显示需要读写远程仓库使用的 Git 保存的简写与其对应的 URL。

### 添加远程仓库

- `git remote add <shortname> <url>` 添加一个新的远程 Git 仓库，同时指定一个你可以轻松引用的简写。

```
$ git remote
  origin
  $ git remote add pb https://github.com/paulboone/ticgit
  $ git remote -v
  origin  https://github.com/schacon/ticgit (fetch)
  origin  https://github.com/schacon/ticgit (push)
  pb  https://github.com/paulboone/ticgit (fetch)
  pb  https://github.com/paulboone/ticgit (push)
```

可以在命令行中使用字符串 pb 来代替整个 URL。 例如，如果你想拉取 Paul 的仓库中有但你没有的信 息，可以运行
`git fetch pb`

### 从远程仓库中抓取与拉取

> git fetch [remote-name]

这个命令会访问远程仓库，从中拉取所有你还没有的数据。 执行完成后，你将会拥有那个远程仓库中所有分支的引用，可以随时合并或查看。必须注意 `git fetch` 命令会将 数据拉取到你的本地仓库,它并不会自动合并或修改你当前的工作。

> git pull

如果你有一个分支设置为跟踪一个远程分支,可以使用 `git pull` 命令来自动的抓取然后合并远程分支到当前分支。 这对你来说可能是一个更简单或更舒服的工作流程;默认情况 下，`git clone` 命令会自动设置本地 `master` 分支跟踪克隆的远程仓库的 `master` 分支(或不管是什么名字的默 认分支)。运行 `git pull` 通常会从最初克隆的服务器上抓取数据并自动尝试合并到当前所在的分支。

### 推送到远程仓库

> git push origin master

只有当你有所克隆服务器的写入权限，并且之前没有人推送过时，这条命令才能生效。 当你和其他人在同一时 间克隆，他们先推送到上游然后你再推送到上游，你的推送就会毫无疑问地被拒绝。 你必须先将他们的工作拉 取下来并将其合并进你的工作后才能推送。

## 标签

### 打标签

> Git 可以给历史中的某一个提交打上标签，以示重要。 比较有代表性的是人 们会使用这个功能来标记发布结点(v1.0 等等)。

### 列出标签

`git tag`

### 创建标签

> Git 使用两种主要类型的标签:轻量标签(lightweight)与附注标签(annotated)

`git tag -a v1.4 -m 'my version 1.4'`, `-m` 选项指定了一条将会存储在标签中的信息。
`git show v1.4` 查看标签信息与对应的提交信息。

### 轻量标签

> 轻量标签本质上是将提交校验和存储到一个文件中 - 没有保存任 何其他信息。

`git tag v1.4`

## Git 别名

> 使你的 Git 体验更简单、容易、熟悉:

```
  $ git config --global alias.co checkout
  $ git config --global alias.br branch
  $ git config --global alias.ci commit
  $ git config --global alias.st status
```

当要输入 `git commit` 时，只需要输入 `git ci`。